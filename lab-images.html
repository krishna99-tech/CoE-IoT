<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lab Photo Stream</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root{
            --primary: #1a5276;
            --secondary: #3498db;
            --light: #f7f9fb;
            --dark: #2c3e50;
            --gray: #95a5a6;
        }
        *{box-sizing:border-box}
        body{font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin:0; background:var(--light); color:var(--dark)}
        .container{width:90%; max-width:1100px; margin:40px auto;}
        .section-title{ text-align:center; margin-bottom:24px }
        .section-title h2{ color:var(--primary); font-size:2rem }
        .carousel{ background:white; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.08); overflow:hidden }
        .main-slide{ position:relative; width:100%; padding-top:56.25%; /* 16:9 */ }
        .main-slide img{ 
            position:absolute; 
            top:0; left:0; 
            width:100%; 
            height:100%; 
            object-fit:cover;
            transition: opacity 0.6s ease-in-out; /* Fade transition duration */
            opacity: 1;
        }
        .main-slide img.fade-out {
            opacity: 0;
        }
        .caption{ 
            position:absolute; 
            left:16px; 
            bottom:12px; 
            background:rgba(0,0,0,0.5); 
            color:white; 
            padding:8px 12px; 
            border-radius:6px; 
            font-size:0.95rem;
            transition: opacity 0.3s ease-in-out; /* Subtle caption fade */
        }
        .thumbnails{ display:flex; gap:10px; padding:16px; align-items:center; overflow-x:auto; background:#fbfcfd }
        .thumb{ flex:0 0 auto; width:110px; height:70px; border-radius:8px; overflow:hidden; cursor:pointer; border:3px solid transparent }
        .thumb img{ width:100%; height:100%; object-fit:cover }
        .thumb.active{ border-color:var(--secondary) }
        .controls{ display:flex; justify-content:space-between; align-items:center; padding:12px 16px }
        .btn{ background:var(--secondary); color:white; border:none; padding:10px 14px; border-radius:6px; cursor:pointer; font-weight:600 }
        .meta{ color:var(--gray); font-size:0.95rem }

        @media (max-width:600px){ .thumb{ width:90px; height:60px } .caption{ left:10px; right:10px } }
    </style>
</head>
<body>
    <div class="container">
        <div class="section-title">
            <h2>Lab Photo Stream</h2>
            <p class="meta">Auto-playing gallery of photos captured inside the lab. Click a thumbnail to jump to an image.</p>
        </div>

        <div class="carousel" id="carousel">
            <div class="main-slide" id="mainSlide">
                <img src="Images/Gallery/Image1.jpg" alt="Lab photo 1" id="mainImage">
                <div class="caption" id="mainCaption">Lab photo 1 — Prototype testing</div>
            </div>
            <div class="controls">
                <div>
                    <button class="btn" id="prevBtn"><i class="fas fa-chevron-left"></i> Prev</button>
                    <button class="btn" id="nextBtn">Next <i class="fas fa-chevron-right"></i></button>
                </div>
                <div>
                    <button class="btn" id="playPauseBtn">Pause</button>
                </div>
            </div>
            <div class="thumbnails" id="thumbnails">
                <div class="thumb active" data-src="Images/Gallery/Image1.jpg" data-caption="Lab photo 1 — Pooja"><img src="Images/Gallery/Image1.jpg" alt="thumb1"></div>
                <div class="thumb" data-src="Images/Gallery/Image2.jpg" data-caption="Lab photo 2 — Pooja"><img src="Images/Gallery/Image2.jpg" alt="thumb2"></div>
                <div class="thumb" data-src="Images/Gallery/Image5.jpg" data-caption="Lab photo 5 — Workshop"><img src="Images/Gallery/Image5.jpg" alt="thumb5"></div>
                <div class="thumb" data-src="Images/Gallery/Image6.jpg" data-caption="Lab photo 6 — Workshop"><img src="Images/Gallery/image6.jpg" alt="thumb6"></div>
                <div class="thumb" data-src="Images/Gallery/Image7.jpg" data-caption="Lab photo 7 — Workshop"><img src="Images/Gallery/image7.jpg" alt="thumb7"></div>
                <div class="thumb" data-src="Images/Gallery/Image8.jpg" data-caption="Lab photo 8 — Workshop"><img src="Images/Gallery/Image8.jpg" alt="thumb8"></div>
                <div class="thumb" data-src="Images/Gallery/Image9.jpg" data-caption="Lab photo 9 — Workshop"><img src="Images/Gallery/Image9.jpg" alt="thumb9"></div>
                <div class="thumb" data-src="Images/Gallery/Image3.jpg" data-caption="Lab photo 3 — Workshop"><img src="Images/Gallery/Image3.jpg" alt="thumb3"></div>
                <div class="thumb" data-src="Images/Gallery/Image4.jpg" data-caption="Lab photo 4 — Workshop"><img src="Images/Gallery/Image4.jpg" alt="thumb4"></div>
                <div class="thumb" data-src="Images/Gallery/Image10.jpg" data-caption="Lab photo 10 — Workshop"><img src="Images/Gallery/Image10.jpg" alt="thumb10"></div>
                <div class="thumb" data-src="Images/Gallery/Image11.jpg" data-caption="Lab photo 11 — Internship June-2025"><img src="Images/Gallery/Image11.jpg" alt="thumb11"></div>
                <div class="thumb" data-src="Images/Gallery/Image12.jpg" data-caption="Lab photo 12 — Fun"><img src="Images/Gallery/Image12.jpg" alt="thumb12"></div>
                <div class="thumb" data-src="Images/Gallery/Image13.jpg" data-caption="Lab photo 13 — PcB Master"><img src="Images/Gallery/image13.jpg" alt="thumb13"></div>
            </div>
        </div>

        <p style="text-align:center;margin-top:18px"><a href="index.html" class="btn" style="text-decoration:none">Back to Mian Page</a></p>
    </div>

    <script>
        (function(){
            const images = Array.from(document.querySelectorAll('.thumb'));
            const mainImage = document.getElementById('mainImage');
            const mainCaption = document.getElementById('mainCaption');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const playPauseBtn = document.getElementById('playPauseBtn');
            let current = 0;
            let playing = true;
            let interval = null;

            function goTo(index){
                if(index < 0) index = images.length -1;
                if(index >= images.length) index = 0;
                current = index;
                const thumb = images[current];
                const src = thumb.dataset.src;
                const caption = thumb.dataset.caption;

                // Fade out current image and caption
                mainImage.classList.add('fade-out');
                mainCaption.style.opacity = '0.5';

                // After half the transition duration, swap and fade in
                setTimeout(() => {
                    mainImage.src = src;
                    mainCaption.textContent = caption;
                    mainImage.classList.remove('fade-out');
                    mainCaption.style.opacity = '1';
                }, 300); // Matches half of 0.6s transition

                images.forEach(t => t.classList.remove('active'));
                thumb.classList.add('active');
                // Ensure thumbnail visible
                thumb.scrollIntoView({behavior:'smooth', inline:'center'});
            }

            function next(){ goTo(current+1); }
            function prev(){ goTo(current-1); }

            images.forEach((thumb, idx) => {
                thumb.addEventListener('click', ()=>{
                    goTo(idx);
                    pause();
                });
            });

            nextBtn.addEventListener('click', ()=>{ next(); pause(); });
            prevBtn.addEventListener('click', ()=>{ prev(); pause(); });

            function play(){
                playing = true;
                playPauseBtn.textContent = 'Pause';
                interval = setInterval(next, 3000);
            }
            function pause(){
                playing = false;
                playPauseBtn.textContent = 'Play';
                clearInterval(interval);
            }

            playPauseBtn.addEventListener('click', ()=>{
                if(playing) pause(); else play();
            });

            // init
            goTo(0);
            play();
        })();
    </script>
</body>
</html>
